


		
<h2 class="c"> Report a Problem </h2>
<hr>

<form id="form1" action="/report" method="POST" enctype="multipart/form-data" runat="server">

	<div class= "row align-center c">
			<div class ="col-md-6 col-md-offset-3">
			<br>
			<h3 class="c"> Please select the "Choose File" button below to take a photo or select a file. </c>
			<br>
			<br>
			<img id="blah" src="/images/blankimage2.jpg" alt="your image"  class="img-responsive thumbnail"/>
			<input name="file" type="file" accept="image/*" capture="camera" id="imgInp" data-filename-placement="inside">
			
			</div>
	</div>
 
  
<br>
<br>
<h3 class="c"> Problem Category </h3>
<br>
<select class="form-control" name="category">
  <option value="Bus stop">Bus stop</option>
  <option value="Playground">Playground </option>
	<option value="BBQ"> BBQ </option>
<option value="Drinking fountain tap">Drinking fountain tap</option>
<option value="Park"> Park </option>
<option value="Parking meter"> Parking meter </option>
<option value="Public toilet"> Public toilet </option>
<option value="Dog park"> Dog park </option>
<option value="City Cycle station"> City Cycle station </option>
<option value="Tennis court"> Tennis court </option>
<option value="Boat ramp"> Boat ramp </option>
<option value="Ferry terminal"> Ferry terminal </option>
<option value="Skate park"> Skate park </option> 
</select>


<input class="hidden" type="text" name="latitude" />
<input  class="hidden" type="text" name="longitude"/>
<input  class="hidden" type="text" name="accuracy"/>
<br>
<br>
<h3 class="c"> Optional Description</h3>
<br>
<textarea class="form-control" name="description" rows="3"></textarea>
<br>

<div class="c"> <h3>Contact Details(Optional): <input type="text" name="contact"></h3> </div>
 
<br>
<div class="row align-center">
	<div class ="col-md-12 col-md-offset-5">
	<br>
		<button type="submit" class="btn btn-success btn-lg pull-center">Submit</button>
		<br>
	</div>
</div>
<br>




<script>

getLocation(showPosition);

		function getLocation(c) {
		    if (navigator.geolocation) {
		        navigator.geolocation.getCurrentPosition(c, null, { enableHighAccuracy: true });
		    } else { 
		        x.innerHTML = "Geolocation is not supported by this browser.";
		    }
		}

		function showPosition(position) {
		    console.log("Latitude: " + position.coords.latitude);
		    console.log("Longitude: " + position.coords.longitude);
		}
		
		function populateInputs(geo) {
$('input[name="latitude"]').val(geo.coords.latitude);
$('input[name="longitude"]').val(geo.coords.longitude);
$('input[name="accuracy"]').val(geo.coords.accuracy);
}
	
getLocation(populateInputs)	

    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();
            
            reader.onload = function (e) {
                $('#blah').attr('src', e.target.result);
				
            }
            
            reader.readAsDataURL(input.files[0]);
        }
    }
    
    $("#imgInp").change(function(){
        readURL(this);
    });
</script>


</form>

